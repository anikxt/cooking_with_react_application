{"ast":null,"code":"import _toConsumableArray from\"/home/blaze/Desktop/web_dev/learning_react/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/blaze/Desktop/web_dev/learning_react/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import RecipeList from'./RecipeList';import'../css/app.css';import RecipeEdit from'./RecipeEdit';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var RecipeContext=/*#__PURE__*/React.createContext();var LOCAL_STORAGE_KEY='cookingWithReact.recipes';function App(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),selectedRecipeId=_useState2[0],setSelectedRecipeId=_useState2[1];var _useState3=useState(sampleRecipes),_useState4=_slicedToArray(_useState3,2),recipes=_useState4[0],setRecipes=_useState4[1];var selectedRecipe=recipes.find(function(recipe){return recipe.id===selectedRecipeId;});useEffect(function(){var recipeJSON=localStorage.getItem(LOCAL_STORAGE_KEY);if(recipeJSON!=null)setRecipes(JSON.parse(recipeJSON));},[]);useEffect(function(){localStorage.setItem(LOCAL_STORAGE_KEY,JSON.stringify(recipes));},[recipes]);var recipeContextValue={handleRecipeAdd:handleRecipeAdd,handleRecipeDelete:handleRecipeDelete,handleRecipeSelect:handleRecipeSelect,handleRecipeChange:handleRecipeChange};function handleRecipeSelect(id){setSelectedRecipeId(id);}function handleRecipeAdd(){var newRecipe={id:Date.now().toString(),name:'',servings:1,cookTime:'',instructions:'',ingredients:[{id:Date.now().toString(),name:'',amount:''}]};setSelectedRecipeId(newRecipe.id);setRecipes([].concat(_toConsumableArray(recipes),[newRecipe]));}function handleRecipeChange(id,recipe){var newRecipes=_toConsumableArray(recipes);var index=newRecipes.findIndex(function(r){return r.id===id;});newRecipes[index]=recipe;setRecipes(newRecipes);}function handleRecipeDelete(id){if(selectedRecipeId!=null&&selectedRecipeId===id){setSelectedRecipeId(undefined);}setRecipes(recipes.filter(function(recipe){return recipe.id!==id;}));}return/*#__PURE__*/_jsxs(RecipeContext.Provider,{value:recipeContextValue,children:[/*#__PURE__*/_jsx(RecipeList,{recipes:recipes}),selectedRecipe&&/*#__PURE__*/_jsx(RecipeEdit,{recipe:selectedRecipe})]});}var sampleRecipes=[{id:1,name:'Plain Chicken',servings:3,cookTime:'1:45',instructions:'1. Put salt on chicken\\n2. Put chicken in oven\\n3. Eat chicken',ingredients:[{id:1,name:'Chicken',amount:'2 Pounds'},{id:2,name:'Salt',amount:'1 Tbs'}]},{id:2,name:'Plain Pork',servings:5,cookTime:'0:45',instructions:'1. Put paprika on pork\\n2. Put pork in oven\\n3. Eat pork',ingredients:[{id:1,name:'Pork',amount:'3 Pounds'},{id:2,name:'Paprika',amount:'2 Tbs'}]}];export default App;","map":{"version":3,"sources":["/home/blaze/Desktop/web_dev/learning_react/src/components/App.js"],"names":["React","useState","useEffect","RecipeList","RecipeEdit","RecipeContext","createContext","LOCAL_STORAGE_KEY","App","selectedRecipeId","setSelectedRecipeId","sampleRecipes","recipes","setRecipes","selectedRecipe","find","recipe","id","recipeJSON","localStorage","getItem","JSON","parse","setItem","stringify","recipeContextValue","handleRecipeAdd","handleRecipeDelete","handleRecipeSelect","handleRecipeChange","newRecipe","Date","now","toString","name","servings","cookTime","instructions","ingredients","amount","newRecipes","index","findIndex","r","undefined","filter"],"mappings":"kQAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAO,gBAAP,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,C,wFAEA,MAAO,IAAMC,CAAAA,aAAa,cAAGL,KAAK,CAACM,aAAN,EAAtB,CACP,GAAMC,CAAAA,iBAAiB,CAAG,0BAA1B,CAEA,QAASC,CAAAA,GAAT,EAAe,CACb,cAAgDP,QAAQ,EAAxD,wCAAOQ,gBAAP,eAAyBC,mBAAzB,eACA,eAA8BT,QAAQ,CAACU,aAAD,CAAtC,yCAAOC,OAAP,eAAgBC,UAAhB,eACA,GAAMC,CAAAA,cAAc,CAAGF,OAAO,CAACG,IAAR,CACrB,SAACC,MAAD,QAAYA,CAAAA,MAAM,CAACC,EAAP,GAAcR,gBAA1B,EADqB,CAAvB,CAIAP,SAAS,CAAC,UAAM,CACd,GAAMgB,CAAAA,UAAU,CAAGC,YAAY,CAACC,OAAb,CAAqBb,iBAArB,CAAnB,CACA,GAAIW,UAAU,EAAI,IAAlB,CAAwBL,UAAU,CAACQ,IAAI,CAACC,KAAL,CAAWJ,UAAX,CAAD,CAAV,CACzB,CAHQ,CAGN,EAHM,CAAT,CAKAhB,SAAS,CAAC,UAAM,CACdiB,YAAY,CAACI,OAAb,CAAqBhB,iBAArB,CAAwCc,IAAI,CAACG,SAAL,CAAeZ,OAAf,CAAxC,EACD,CAFQ,CAEN,CAACA,OAAD,CAFM,CAAT,CAIA,GAAMa,CAAAA,kBAAkB,CAAG,CACzBC,eAAe,CAAfA,eADyB,CAEzBC,kBAAkB,CAAlBA,kBAFyB,CAGzBC,kBAAkB,CAAlBA,kBAHyB,CAIzBC,kBAAkB,CAAlBA,kBAJyB,CAA3B,CAOA,QAASD,CAAAA,kBAAT,CAA4BX,EAA5B,CAAgC,CAC9BP,mBAAmB,CAACO,EAAD,CAAnB,CACD,CAED,QAASS,CAAAA,eAAT,EAA2B,CACzB,GAAMI,CAAAA,SAAS,CAAG,CAChBb,EAAE,CAAEc,IAAI,CAACC,GAAL,GAAWC,QAAX,EADY,CAEhBC,IAAI,CAAE,EAFU,CAGhBC,QAAQ,CAAE,CAHM,CAIhBC,QAAQ,CAAE,EAJM,CAKhBC,YAAY,CAAE,EALE,CAMhBC,WAAW,CAAE,CAAC,CAAErB,EAAE,CAAEc,IAAI,CAACC,GAAL,GAAWC,QAAX,EAAN,CAA6BC,IAAI,CAAE,EAAnC,CAAuCK,MAAM,CAAE,EAA/C,CAAD,CANG,CAAlB,CASA7B,mBAAmB,CAACoB,SAAS,CAACb,EAAX,CAAnB,CACAJ,UAAU,8BAAKD,OAAL,GAAckB,SAAd,GAAV,CACD,CAED,QAASD,CAAAA,kBAAT,CAA4BZ,EAA5B,CAAgCD,MAAhC,CAAwC,CACtC,GAAMwB,CAAAA,UAAU,oBAAO5B,OAAP,CAAhB,CACA,GAAM6B,CAAAA,KAAK,CAAGD,UAAU,CAACE,SAAX,CAAqB,SAACC,CAAD,QAAOA,CAAAA,CAAC,CAAC1B,EAAF,GAASA,EAAhB,EAArB,CAAd,CACAuB,UAAU,CAACC,KAAD,CAAV,CAAoBzB,MAApB,CACAH,UAAU,CAAC2B,UAAD,CAAV,CACD,CAED,QAASb,CAAAA,kBAAT,CAA4BV,EAA5B,CAAgC,CAC9B,GAAIR,gBAAgB,EAAI,IAApB,EAA4BA,gBAAgB,GAAKQ,EAArD,CAAyD,CACvDP,mBAAmB,CAACkC,SAAD,CAAnB,CACD,CACD/B,UAAU,CAACD,OAAO,CAACiC,MAAR,CAAe,SAAC7B,MAAD,QAAYA,CAAAA,MAAM,CAACC,EAAP,GAAcA,EAA1B,EAAf,CAAD,CAAV,CACD,CAED,mBACE,MAAC,aAAD,CAAe,QAAf,EAAwB,KAAK,CAAEQ,kBAA/B,wBACE,KAAC,UAAD,EAAY,OAAO,CAAEb,OAArB,EADF,CAEGE,cAAc,eAAI,KAAC,UAAD,EAAY,MAAM,CAAEA,cAApB,EAFrB,GADF,CAMD,CAED,GAAMH,CAAAA,aAAa,CAAG,CACpB,CACEM,EAAE,CAAE,CADN,CAEEiB,IAAI,CAAE,eAFR,CAGEC,QAAQ,CAAE,CAHZ,CAIEC,QAAQ,CAAE,MAJZ,CAKEC,YAAY,CACV,gEANJ,CAOEC,WAAW,CAAE,CACX,CACErB,EAAE,CAAE,CADN,CAEEiB,IAAI,CAAE,SAFR,CAGEK,MAAM,CAAE,UAHV,CADW,CAMX,CACEtB,EAAE,CAAE,CADN,CAEEiB,IAAI,CAAE,MAFR,CAGEK,MAAM,CAAE,OAHV,CANW,CAPf,CADoB,CAqBpB,CACEtB,EAAE,CAAE,CADN,CAEEiB,IAAI,CAAE,YAFR,CAGEC,QAAQ,CAAE,CAHZ,CAIEC,QAAQ,CAAE,MAJZ,CAKEC,YAAY,CAAE,0DALhB,CAMEC,WAAW,CAAE,CACX,CACErB,EAAE,CAAE,CADN,CAEEiB,IAAI,CAAE,MAFR,CAGEK,MAAM,CAAE,UAHV,CADW,CAMX,CACEtB,EAAE,CAAE,CADN,CAEEiB,IAAI,CAAE,SAFR,CAGEK,MAAM,CAAE,OAHV,CANW,CANf,CArBoB,CAAtB,CA0CA,cAAe/B,CAAAA,GAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport RecipeList from './RecipeList';\nimport '../css/app.css';\nimport RecipeEdit from './RecipeEdit';\n\nexport const RecipeContext = React.createContext();\nconst LOCAL_STORAGE_KEY = 'cookingWithReact.recipes';\n\nfunction App() {\n  const [selectedRecipeId, setSelectedRecipeId] = useState();\n  const [recipes, setRecipes] = useState(sampleRecipes);\n  const selectedRecipe = recipes.find(\n    (recipe) => recipe.id === selectedRecipeId\n  );\n\n  useEffect(() => {\n    const recipeJSON = localStorage.getItem(LOCAL_STORAGE_KEY);\n    if (recipeJSON != null) setRecipes(JSON.parse(recipeJSON));\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(recipes));\n  }, [recipes]);\n\n  const recipeContextValue = {\n    handleRecipeAdd,\n    handleRecipeDelete,\n    handleRecipeSelect,\n    handleRecipeChange,\n  };\n\n  function handleRecipeSelect(id) {\n    setSelectedRecipeId(id);\n  }\n\n  function handleRecipeAdd() {\n    const newRecipe = {\n      id: Date.now().toString(),\n      name: '',\n      servings: 1,\n      cookTime: '',\n      instructions: '',\n      ingredients: [{ id: Date.now().toString(), name: '', amount: '' }],\n    };\n\n    setSelectedRecipeId(newRecipe.id);\n    setRecipes([...recipes, newRecipe]);\n  }\n\n  function handleRecipeChange(id, recipe) {\n    const newRecipes = [...recipes];\n    const index = newRecipes.findIndex((r) => r.id === id);\n    newRecipes[index] = recipe;\n    setRecipes(newRecipes);\n  }\n\n  function handleRecipeDelete(id) {\n    if (selectedRecipeId != null && selectedRecipeId === id) {\n      setSelectedRecipeId(undefined);\n    }\n    setRecipes(recipes.filter((recipe) => recipe.id !== id));\n  }\n\n  return (\n    <RecipeContext.Provider value={recipeContextValue}>\n      <RecipeList recipes={recipes} />\n      {selectedRecipe && <RecipeEdit recipe={selectedRecipe} />}\n    </RecipeContext.Provider>\n  );\n}\n\nconst sampleRecipes = [\n  {\n    id: 1,\n    name: 'Plain Chicken',\n    servings: 3,\n    cookTime: '1:45',\n    instructions:\n      '1. Put salt on chicken\\n2. Put chicken in oven\\n3. Eat chicken',\n    ingredients: [\n      {\n        id: 1,\n        name: 'Chicken',\n        amount: '2 Pounds',\n      },\n      {\n        id: 2,\n        name: 'Salt',\n        amount: '1 Tbs',\n      },\n    ],\n  },\n  {\n    id: 2,\n    name: 'Plain Pork',\n    servings: 5,\n    cookTime: '0:45',\n    instructions: '1. Put paprika on pork\\n2. Put pork in oven\\n3. Eat pork',\n    ingredients: [\n      {\n        id: 1,\n        name: 'Pork',\n        amount: '3 Pounds',\n      },\n      {\n        id: 2,\n        name: 'Paprika',\n        amount: '2 Tbs',\n      },\n    ],\n  },\n];\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}